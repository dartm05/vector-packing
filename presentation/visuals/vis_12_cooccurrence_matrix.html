<!DOCTYPE html>
<html>
<head>
    <title>WOC Co-Occurrence Matrix - Azure Data</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { font-family: Arial; max-width: 1400px; margin: 0 auto; padding: 20px; background: #f0f0f0; }
        .container { background: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; }
        .explanation { background: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #27ae60; }
        .formula { background: #f8f9fa; padding: 15px; border-radius: 5px; font-family: 'Courier New'; font-size: 18px; text-align: center; margin: 15px 0; }
        .insight { background: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107; }
        .badge { background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Wisdom of Crowds: Pattern Learning via Co-Occurrence Matrix</h1>
        <p style="text-align: center; color: #666; font-size: 16px;">
            <span class="badge">AZURE</span> Real Microsoft Production Data - 50 VMs
        </p>
        
        <div class="explanation">
            <h2 style="margin-top: 0; color: #1b5e20;">What is a Co-Occurrence Matrix?</h2>
            <p style="font-size: 16px; line-height: 1.8;">
                A co-occurrence matrix <strong>C</strong> tracks how often pairs of VMs appear together on the same server 
                across the top 20 solutions from the GA population. High values indicate <strong>strong affinity</strong> 
                between VMs - they work well together in real-world Azure workloads!
            </p>
            
            <div class="formula">
                C[i][j] = Œ£<sub>s ‚àà Top-20</sub> ùüô{VM<sub>i</sub> and VM<sub>j</sub> on same server in s}
            </div>
            
            <p style="font-size: 16px; margin-top: 15px;">
                <strong>Range:</strong> C[i][j] ‚àà [0, 20]<br>
                <strong>0:</strong> VMs never co-locate ‚Üí likely incompatible<br>
                <strong>20:</strong> VMs always together ‚Üí strong synergy discovered from Azure patterns!
            </p>
        </div>
        
        <div id="heatmap" style="margin: 30px 0;"></div>
        
        <div class="insight">
            <h3 style="margin-top: 0; color: #856404;">üîç Real-World Pattern Discovery</h3>
            <p style="font-size: 16px; line-height: 1.8;">
                <strong>Azure Production Characteristics:</strong>
            </p>
            <ul style="font-size: 16px; line-height: 1.8;">
                <li><strong>Unbalanced Resources:</strong> Real VMs have diverse CPU, RAM, and storage profiles</li>
                <li><strong>Complementary Packing:</strong> CPU-heavy VMs pair well with RAM-heavy VMs</li>
                <li><strong>Pattern Frequency:</strong> Some VM pairs co-locate in 15-20 out of 20 top solutions</li>
                <li><strong>Wisdom Extracted:</strong> GA discovers patterns, WOC learns and exploits them</li>
            </ul>
        </div>
        
        <div class="explanation">
            <h3 style="margin-top: 0; color: #1b5e20;">How WOC Uses the Matrix</h3>
            <ol style="font-size: 16px; line-height: 1.8;">
                <li><strong>Identify Patterns:</strong> Build matrix from top 20 GA solutions on Azure data</li>
                <li><strong>Compute Affinity:</strong> For each VM-Server pair, sum co-occurrence with VMs already placed</li>
                <li><strong>Guided Placement:</strong> Place VMs on servers where they have high affinity with existing VMs</li>
                <li><strong>Fast Construction:</strong> Build complete solution in O(N¬≤) time - dramatically faster than GA</li>
            </ol>
            
            <div class="formula">
                affinity(VM<sub>i</sub>, Server<sub>j</sub>) = Œ£<sub>k ‚àà Server<sub>j</sub></sub> C[i][k] / |Server<sub>j</sub>|
            </div>
        </div>
        
        <div style="background: #f3e5f5; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #9c27b0;">
            <h3 style="color: #6a1b9a; margin-top: 0;">üìä Matrix Properties from Azure Run</h3>
            <ul style="font-size: 16px; line-height: 1.8;">
                <li><strong>Size:</strong> 50 √ó 50 = 2500 entries</li>
                <li><strong>Symmetric:</strong> C[i][j] = C[j][i] (co-location is bidirectional)</li>
                <li><strong>Best Solution:</strong> GA found 12 servers (fitness: 1205.18)</li>
                <li><strong>Captures Real Patterns:</strong> Learns from actual Azure production VM behavior</li>
            </ul>
        </div>
    </div>

    <script>
        var matrix = [[0, 16, 17, 17, 0, 9, 15, 1, 17, 9, 16, 9, 5, 14, 14, 18, 10, 0, 15, 16, 16, 15, 15, 16, 15, 16, 15, 15, 18, 15, 17, 16, 17, 16, 0, 3, 15, 14, 11, 16, 4, 12, 19, 16, 16, 0, 0, 17, 14, 16], [16, 0, 19, 15, 0, 9, 17, 3, 19, 7, 14, 11, 5, 18, 18, 14, 12, 0, 15, 18, 18, 17, 17, 16, 17, 20, 17, 17, 18, 17, 17, 18, 17, 16, 0, 1, 17, 14, 7, 16, 6, 12, 17, 16, 16, 0, 0, 17, 14, 16], [17, 19, 0, 16, 0, 8, 18, 2, 20, 8, 15, 12, 6, 17, 17, 15, 13, 0, 16, 19, 17, 18, 18, 15, 18, 19, 18, 16, 17, 16, 18, 17, 18, 15, 0, 0, 16, 15, 8, 17, 5, 13, 18, 17, 15, 0, 0, 18, 15, 17], [17, 15, 16, 0, 0, 8, 16, 4, 16, 10, 15, 12, 4, 17, 13, 17, 13, 0, 16, 15, 15, 16, 16, 17, 16, 15, 18, 14, 17, 16, 16, 15, 16, 15, 0, 4, 16, 17, 8, 17, 3, 13, 16, 13, 15, 0, 0, 16, 17, 17], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [9, 9, 8, 8, 0, 0, 6, 12, 8, 16, 7, 10, 10, 7, 9, 7, 9, 0, 8, 9, 9, 8, 6, 9, 6, 9, 6, 8, 11, 8, 8, 11, 10, 7, 0, 12, 10, 7, 10, 9, 11, 11, 8, 7, 7, 0, 0, 8, 7, 7], [15, 17, 18, 16, 0, 6, 0, 4, 18, 10, 15, 14, 4, 17, 17, 17, 15, 0, 18, 17, 17, 18, 20, 17, 18, 17, 18, 16, 15, 16, 18, 15, 16, 17, 0, 2, 14, 17, 6, 17, 3, 15, 16, 17, 15, 0, 0, 18, 17, 19], [1, 3, 2, 4, 0, 12, 4, 0, 2, 12, 5, 10, 14, 5, 5, 3, 9, 0, 4, 3, 5, 4, 4, 5, 4, 3, 4, 4, 3, 4, 2, 3, 4, 3, 0, 18, 6, 5, 10, 3, 15, 9, 0, 3, 3, 0, 0, 4, 7, 3], [17, 19, 20, 16, 0, 8, 18, 2, 0, 8, 15, 12, 6, 17, 17, 15, 13, 0, 16, 19, 17, 18, 18, 15, 18, 19, 18, 16, 17, 16, 18, 17, 18, 15, 0, 0, 16, 15, 8, 17, 5, 13, 18, 17, 15, 0, 0, 18, 15, 17], [9, 7, 8, 10, 0, 16, 10, 12, 8, 0, 7, 12, 10, 7, 7, 11, 13, 0, 10, 7, 9, 8, 10, 11, 8, 7, 8, 6, 9, 8, 10, 7, 8, 9, 0, 12, 6, 9, 8, 9, 9, 15, 8, 7, 7, 0, 0, 10, 9, 11], [16, 14, 15, 15, 0, 7, 15, 5, 15, 7, 0, 13, 5, 14, 16, 16, 12, 0, 15, 16, 16, 15, 15, 14, 17, 14, 15, 15, 14, 15, 15, 14, 17, 14, 0, 5, 17, 16, 9, 14, 4, 12, 15, 18, 16, 0, 0, 17, 18, 14], [9, 11, 12, 12, 0, 10, 14, 10, 12, 12, 13, 0, 8, 13, 13, 11, 19, 0, 14, 13, 11, 14, 14, 11, 14, 11, 14, 12, 9, 12, 12, 11, 12, 11, 0, 8, 12, 15, 2, 13, 7, 17, 10, 13, 11, 0, 0, 12, 15, 13], [5, 5, 6, 4, 0, 10, 4, 14, 6, 10, 5, 8, 0, 5, 3, 3, 9, 0, 2, 5, 3, 4, 4, 1, 6, 5, 6, 4, 3, 4, 4, 3, 4, 3, 0, 14, 4, 3, 12, 3, 19, 7, 6, 5, 5, 0, 0, 4, 3, 3], [14, 18, 17, 17, 0, 7, 17, 5, 17, 7, 14, 13, 5, 0, 16, 14, 14, 0, 15, 16, 16, 17, 17, 16, 17, 18, 19, 17, 16, 17, 15, 16, 15, 16, 0, 3, 17, 16, 5, 16, 6, 12, 15, 14, 16, 0, 0, 15, 16, 16], [14, 18, 17, 13, 0, 9, 17, 5, 17, 7, 16, 13, 3, 16, 0, 14, 12, 0, 17, 18, 18, 17, 17, 16, 17, 18, 15, 17, 16, 17, 17, 18, 17, 16, 0, 3, 17, 16, 7, 16, 4, 12, 15, 18, 16, 0, 0, 17, 16, 16], [18, 14, 15, 17, 0, 7, 17, 3, 15, 11, 16, 11, 3, 14, 14, 0, 12, 0, 17, 14, 16, 15, 17, 18, 15, 14, 15, 15, 16, 15, 17, 14, 15, 18, 0, 5, 13, 16, 9, 16, 2, 14, 17, 16, 16, 0, 0, 17, 16, 18], [10, 12, 13, 13, 0, 9, 15, 9, 13, 13, 12, 19, 9, 14, 12, 12, 0, 0, 13, 12, 12, 13, 15, 12, 15, 12, 15, 11, 10, 13, 13, 10, 11, 12, 0, 7, 11, 14, 1, 12, 8, 18, 11, 12, 12, 0, 0, 13, 14, 14], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [15, 15, 16, 16, 0, 8, 18, 4, 16, 10, 15, 14, 2, 15, 17, 17, 13, 0, 0, 17, 15, 18, 18, 17, 16, 15, 16, 16, 15, 16, 18, 17, 16, 17, 0, 4, 14, 19, 8, 19, 1, 13, 16, 17, 15, 0, 0, 16, 17, 19], [16, 18, 19, 15, 0, 9, 17, 3, 19, 7, 16, 13, 5, 16, 18, 14, 12, 0, 17, 0, 16, 19, 17, 14, 17, 18, 17, 17, 16, 15, 17, 18, 19, 14, 0, 1, 17, 16, 9, 18, 4, 12, 17, 18, 14, 0, 0, 17, 16, 16], [16, 18, 17, 15, 0, 9, 17, 5, 17, 9, 16, 11, 3, 16, 18, 16, 12, 0, 15, 16, 0, 15, 17, 18, 17, 18, 15, 15, 18, 17, 17, 16, 17, 16, 0, 3, 17, 14, 7, 14, 4, 14, 15, 16, 16, 0, 0, 19, 16, 16], [15, 17, 18, 16, 0, 8, 18, 4, 18, 8, 15, 14, 4, 17, 17, 15, 13, 0, 18, 19, 15, 0, 18, 15, 16, 17, 18, 18, 15, 14, 16, 17, 18, 15, 0, 2, 16, 17, 8, 19, 3, 13, 16, 17, 13, 0, 0, 16, 17, 17], [15, 17, 18, 16, 0, 6, 20, 4, 18, 10, 15, 14, 4, 17, 17, 17, 15, 0, 18, 17, 17, 18, 0, 17, 18, 17, 18, 16, 15, 16, 18, 15, 16, 17, 0, 2, 14, 17, 6, 17, 3, 15, 16, 17, 15, 0, 0, 18, 17, 19], [16, 16, 15, 17, 0, 9, 17, 5, 15, 11, 14, 11, 1, 16, 16, 18, 12, 0, 17, 14, 18, 15, 17, 0, 15, 16, 15, 15, 18, 17, 17, 16, 15, 18, 0, 5, 15, 16, 7, 16, 2, 14, 15, 14, 16, 0, 0, 17, 16, 18], [15, 17, 18, 16, 0, 6, 18, 4, 18, 8, 17, 14, 6, 17, 17, 15, 15, 0, 16, 17, 17, 16, 18, 15, 0, 17, 18, 14, 15, 18, 18, 15, 16, 15, 0, 2, 16, 17, 6, 15, 5, 13, 16, 17, 17, 0, 0, 18, 17, 17], [16, 20, 19, 15, 0, 9, 17, 3, 19, 7, 14, 11, 5, 18, 18, 14, 12, 0, 15, 18, 18, 17, 17, 16, 17, 0, 17, 17, 18, 17, 17, 18, 17, 16, 0, 1, 17, 14, 7, 16, 6, 12, 17, 16, 16, 0, 0, 17, 14, 16], [15, 17, 18, 18, 0, 6, 18, 4, 18, 8, 15, 14, 6, 19, 15, 15, 15, 0, 16, 17, 15, 18, 18, 15, 18, 17, 0, 16, 15, 16, 16, 15, 16, 15, 0, 2, 16, 17, 6, 17, 5, 13, 16, 15, 15, 0, 0, 16, 17, 17], [15, 17, 16, 14, 0, 8, 16, 4, 16, 6, 15, 12, 4, 17, 17, 15, 11, 0, 16, 17, 15, 18, 16, 15, 14, 17, 16, 0, 15, 14, 14, 17, 16, 17, 0, 4, 16, 15, 8, 17, 5, 11, 16, 17, 15, 0, 0, 14, 15, 15], [18, 18, 17, 17, 0, 11, 15, 3, 17, 9, 14, 9, 3, 16, 16, 16, 10, 0, 15, 16, 18, 15, 15, 18, 15, 18, 15, 15, 0, 17, 17, 18, 17, 16, 0, 3, 17, 14, 9, 16, 4, 12, 17, 14, 16, 0, 0, 17, 14, 16], [15, 17, 16, 16, 0, 8, 16, 4, 16, 8, 15, 12, 4, 17, 17, 15, 13, 0, 16, 15, 17, 14, 16, 17, 18, 17, 16, 14, 17, 0, 18, 17, 14, 17, 0, 4, 16, 17, 6, 15, 5, 11, 16, 15, 19, 0, 0, 16, 15, 17], [17, 17, 18, 16, 0, 8, 18, 2, 18, 10, 15, 12, 4, 15, 17, 17, 13, 0, 18, 17, 17, 16, 18, 17, 18, 17, 16, 14, 17, 18, 0, 17, 16, 17, 0, 2, 14, 17, 8, 17, 3, 13, 18, 17, 17, 0, 0, 18, 15, 19], [16, 18, 17, 15, 0, 11, 15, 3, 17, 7, 14, 11, 3, 16, 18, 14, 10, 0, 17, 18, 16, 17, 15, 16, 15, 18, 15, 17, 18, 17, 17, 0, 17, 16, 0, 3, 17, 16, 9, 18, 4, 10, 17, 16, 16, 0, 0, 15, 14, 16], [17, 17, 18, 16, 0, 10, 16, 4, 18, 8, 17, 12, 4, 15, 17, 15, 11, 0, 16, 19, 17, 18, 16, 15, 16, 17, 16, 16, 17, 14, 16, 17, 0, 13, 0, 2, 18, 15, 10, 17, 3, 13, 16, 17, 13, 0, 0, 18, 17, 15], [16, 16, 15, 15, 0, 7, 17, 3, 15, 9, 14, 11, 3, 16, 16, 18, 12, 0, 17, 14, 16, 15, 17, 18, 15, 16, 15, 17, 16, 17, 17, 16, 13, 0, 0, 5, 13, 16, 7, 16, 4, 12, 17, 16, 18, 0, 0, 15, 14, 18], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [3, 1, 0, 4, 0, 12, 2, 18, 0, 12, 5, 8, 14, 3, 3, 5, 7, 0, 4, 1, 3, 2, 2, 5, 2, 1, 2, 4, 3, 4, 2, 3, 2, 5, 0, 0, 4, 5, 12, 3, 15, 7, 2, 3, 5, 0, 0, 2, 5, 3], [15, 17, 16, 16, 0, 10, 14, 6, 16, 6, 17, 12, 4, 17, 17, 13, 11, 0, 14, 17, 17, 16, 14, 15, 16, 17, 16, 16, 17, 16, 14, 17, 18, 13, 0, 4, 0, 15, 8, 15, 5, 11, 14, 15, 15, 0, 0, 16, 17, 13], [14, 14, 15, 17, 0, 7, 17, 5, 15, 9, 16, 15, 3, 16, 16, 16, 14, 0, 19, 16, 14, 17, 17, 16, 17, 14, 17, 15, 14, 17, 17, 16, 15, 16, 0, 5, 15, 0, 7, 18, 2, 12, 15, 16, 16, 0, 0, 15, 18, 18], [11, 7, 8, 8, 0, 10, 6, 10, 8, 8, 9, 2, 12, 5, 7, 9, 1, 0, 8, 9, 7, 8, 6, 7, 6, 7, 6, 8, 9, 6, 8, 9, 10, 7, 0, 12, 8, 7, 0, 9, 11, 3, 10, 9, 7, 0, 0, 8, 7, 7], [16, 16, 17, 17, 0, 9, 17, 3, 17, 9, 14, 13, 3, 16, 16, 16, 12, 0, 19, 18, 14, 19, 17, 16, 15, 16, 17, 17, 16, 15, 17, 18, 17, 16, 0, 3, 15, 18, 9, 0, 2, 12, 17, 16, 14, 0, 0, 15, 16, 18], [4, 6, 5, 3, 0, 11, 3, 15, 5, 9, 4, 7, 19, 6, 4, 2, 8, 0, 1, 4, 4, 3, 3, 2, 5, 6, 5, 5, 4, 5, 3, 4, 3, 4, 0, 15, 5, 2, 11, 2, 0, 6, 5, 4, 6, 0, 0, 3, 2, 2], [12, 12, 13, 13, 0, 11, 15, 9, 13, 15, 12, 17, 7, 12, 12, 14, 18, 0, 13, 12, 14, 13, 15, 14, 13, 12, 13, 11, 12, 11, 13, 10, 13, 12, 0, 7, 11, 12, 3, 12, 6, 0, 11, 12, 10, 0, 0, 15, 14, 14], [19, 17, 18, 16, 0, 8, 16, 0, 18, 8, 15, 10, 6, 15, 15, 17, 11, 0, 16, 17, 15, 16, 16, 15, 16, 17, 16, 16, 17, 16, 18, 17, 16, 17, 0, 2, 14, 15, 10, 17, 5, 11, 0, 17, 17, 0, 0, 16, 13, 17], [16, 16, 17, 13, 0, 7, 17, 3, 17, 7, 18, 13, 5, 14, 18, 16, 12, 0, 17, 18, 16, 17, 17, 14, 17, 16, 15, 17, 14, 15, 17, 16, 17, 16, 0, 3, 15, 16, 9, 16, 4, 12, 17, 0, 16, 0, 0, 17, 16, 16], [16, 16, 15, 15, 0, 7, 15, 3, 15, 7, 16, 11, 5, 16, 16, 16, 12, 0, 15, 14, 16, 13, 15, 16, 17, 16, 15, 15, 16, 19, 17, 16, 13, 18, 0, 5, 15, 16, 7, 14, 6, 10, 17, 16, 0, 0, 0, 15, 14, 16], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [17, 17, 18, 16, 0, 8, 18, 4, 18, 10, 17, 12, 4, 15, 17, 17, 13, 0, 16, 17, 19, 16, 18, 17, 18, 17, 16, 14, 17, 16, 18, 15, 18, 15, 0, 2, 16, 15, 8, 15, 3, 15, 16, 17, 15, 0, 0, 0, 17, 17], [14, 14, 15, 17, 0, 7, 17, 7, 15, 9, 18, 15, 3, 16, 16, 16, 14, 0, 17, 16, 16, 17, 17, 16, 17, 14, 17, 15, 14, 15, 15, 14, 17, 14, 0, 5, 17, 18, 7, 16, 2, 14, 13, 16, 14, 0, 0, 17, 0, 16], [16, 16, 17, 17, 0, 7, 19, 3, 17, 11, 14, 13, 3, 16, 16, 18, 14, 0, 19, 16, 16, 17, 19, 18, 17, 16, 17, 15, 16, 17, 19, 16, 15, 18, 0, 3, 13, 18, 7, 18, 2, 14, 17, 16, 16, 0, 0, 17, 16, 0]];
        var numVms = 50;
        
        var vmLabels = [];
        for (var i = 0; i < numVms; i++) {
            vmLabels.push('VM ' + i);
        }
        
        var heatmapData = [{
            z: matrix,
            x: vmLabels,
            y: vmLabels,
            type: 'heatmap',
            colorscale: [
                [0, '#f7fbff'],
                [0.2, '#deebf7'],
                [0.4, '#9ecae1'],
                [0.6, '#4292c6'],
                [0.8, '#2171b5'],
                [1, '#08519c']
            ],
            colorbar: {
                title: 'Co-occurrence Count',
                titleside: 'right'
            }
        }];
        
        var layout = {
            title: 'VM Co-Occurrence Matrix from Azure Data (50 VMs)',
            xaxis: {
                title: 'VM ID',
                tickmode: 'linear',
                tick0: 0,
                dtick: 5
            },
            yaxis: {
                title: 'VM ID',
                tickmode: 'linear',
                tick0: 0,
                dtick: 5
            },
            width: 1200,
            height: 1000
        };
        
        Plotly.newPlot('heatmap', heatmapData, layout, {responsive: true});
    </script>
</body>
</html>
